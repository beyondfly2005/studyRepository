> 视频地址 
>
> https://www.bilibili.com/video/BV1Nb411x7E6?from=search&seid=6402948716876585716

##### 一、Oracle性能优化综述

##### 	思路：

​	是资源不足还是用户体验较慢

​	资源验证不足 CPU 90% 

​	是业务需要还是 异常

​	是否最优的执行计划

​	CPU在做什么 消耗在哪

​	业务是否在最优化的方式运行

##### 课程表

- 1、性能优化综述
- 2、锁
- 3、Latch
- 4、优化器和执行计划
- 5、Hints
- 6、等待事件
- 7、索引和分区（包括11g下的新的组合分区）
- 8、分析及动态采样*（包括11g下的extended statistic技术）
- 9、并行执行
- 10、变量绑定（包括11g下的Adaptive cursor sharing技术）
- 11、sql_trace 及10046
- 12、10053事件
- 13、性能视图和性能参数
- 14、性能报告分析AWR、ASH
- 15、基于Oracle RAC架构的性能优化



##### 性能--数据库发展的大势所趋

- 关系型数据库功能区域完美

- 业务对性能的需求日益提高
- 数据量的激增



##### DBA角色的转变

- 不能再股部自封在独立的数据库层面
- 技术方向上，应多考虑性能方面的问题
- 积极参与到业务层面，从额外角度思考问题



##### 性能优化的原则

- 不是所有的数据都需要（能够）优化
- 数据库的性能，大多数都不是从数据库层面能够解决的
- 在不了解业务之前，不坑你找到正确的优化思路
- 优化要有一个度，并不是“没有最优，只有更优”



##### 导致性能问题的可能原因

- 表没有正确的创建索引--- 错误的执行计划
- 表没有及时分析 --- 错误的执行计划
- 热快--------------------数据块的争用（反向索引？）
- 所得阻塞---------------业务设计缺陷
- SQL解析消耗大量的CPU--------变量绑定
- 低效的SQL-----------------------SQL自身的问题
- 数据库整体负载过重---------架构设计的问题



##### 性能问题的定位

- SQL层

  如果能从定位到SQL，就不要从会话层分析

  工具执行计划：10053,10046 查看SQL的执行计划

- 会话层

  如果能定位到会话，就不用从系统层面分析

  V$SESSION

  V$SESSTAT

  V$SESSION_WAIT
  V$SQL

  V$LOCK

  SQL_TRACE

- 系统层

  如果无法定位任何性能问题，从系统层面下手

  AWR （STATSPACK）OS tools(TOP,IOSTAT...)



##### 不要迷恋优化器

- 不要迷信优化器， 优化器永远不知道你的业务需求
  - 优化器用于无法安装你的业务需求来重写你的SQL语句
  - 优化器整只能在（集合）逻辑上做SQL的重写
- 高效的SQL来自对业务的理解和对SQL执行过程的理解



二、课程表

